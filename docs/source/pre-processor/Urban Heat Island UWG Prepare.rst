.. _UWGPrepare:

Urban Heat Island: UWG Prepare
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note:: **UNDER CONSTRUCTION**


* Contributor:
    .. list-table::
       :widths: 50 50
       :header-rows: 1

       * - Name
         - Institution
       * - Fredrik Lindberg
         - Gothenburg
       * - Oskar BÃ¤cklin
         - Gothenburg


* Introduction:
    The **Urban Weather Generator** (UWG) tool is an implementation of the `Ladybug <https://github.com/ladybug-tools/uwg>`__ application with the same name. The `original Urban Weather Generator <http://urbanmicroclimate.scripts.mit.edu/uwg.php>`__ was developed by Bruno Bueno for `his PhD thesis at MIT <https://dspace.mit.edu/handle/1721.1/59107>`__. Since this time, it has been validated 3 times and has been `enhanced by Aiko Nakano <https://dspace.mit.edu/handle/1721.1/108779>`__. In 2016, Joseph Yang also `improved the engine and added a range of building templates <https://dspace.mit.edu/handle/1721.1/107347>`__. For more detailed information on UWG, follow the links above.
    
    The pre-processor UWG Prepare can be used to prepare input data for the `UWG in UMEP <UWG>` or elsewhere. THis plugin generateds a **uwg**-file for each area that should modelled. An example of such a file can be found `here <https://github.com/ladybug-tools/uwg/blob/master/resources/initialize_singapore.uwg>`__ This plugin make use of other UMEP pre-processors that is used to gather spatial information required. 

* Related Preprocessors, Processors and Postprocessors
   `UWGReclassifier`, `LandCoverFraction(Grid)`, `MorphometricCalculator(Grid)`, `UWG`, `UWGAnalyser`

* Dialog box:
    .. figure:: /images/UWGPrepareInterface.jpg
        :width: 75%
        :align: center

        Dialog for the UWG Prepare plugin. Click on image for enlargement.

* Parameters:

   .. list-table::
      :widths: 25 75
      :header-rows: 0
      
      * - Polygon grid
        - A vectory polygon grid that depicts the modelling area(s). This should be the same polygon layer that was used in `UWG`. The **ID field** should an attribute field with unique numbers, preferably intergers.
      * - Building type polygon layer
        - The vector polygon layer generated by `UWGReclassifier`. **This is optional**. If not used, all bildings are classified as mid-rise residential apartments.
      * - Building morphology
        - Specify a text file on building morphology that are generated with the `Image Morphometric Calculator <MorphometricCalculator(Grid)>` plugin. Use the isotropic text file (*prefix*_IMPGrid_isotropic.txt).
      * - Land cover fractions
        - Specify a text file on land cover fractions generated with the `Land Cover Fraction <LandCoverFraction(Grid)>` plugin. Use the isotropic text file (*prefix*_LCFG_isotropic.txt). 
      * - Additional information
        - Here a climate zone should be specified as well as an prefix that will be used in the UWG and UWGAnalyser later on.

* Ourput folder:
    Directory where generated files will be stored. 

* Generate:
    Starts the process.

* Help
    Link to this manual page.

* Close:
    Closes the plugin.

* Remarks
      - The building type polygon layer does not need to be fully covered. Fractions within a grid is calculated based on the area of various building type polygons. If no polygons are located within a grid, mid-rise apartments will be used.
