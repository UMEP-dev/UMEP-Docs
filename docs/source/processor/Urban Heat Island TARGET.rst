.. _TARGET:

Urban Heat Island: TARGET
~~~~~~~~~~~~~~~~~~~~~~~~~

.. note:: This plugin is still experimental. Please report any issues to our `code repository <https://github.com/UMEP-dev/UMEP>`__.

* Contributors:
   .. list-table::
      :widths: 50 50
      :header-rows: 1

      * - Name
        - Institution
      * - Fredrik Lindberg
        - Gothenburg

* Introduction:
    **TARGET** (The Air-temperature Response to Green blue-infrastructure Evaluaition Tool) is a simple modelling framework used to examine intra urban climate (10\ :sup:`2` m resolution). It has specifically been developed as an efficient, easy-to-use model albe to investigate heat mitigation effects of green and blue infrastructure within urban areas but can also be used to model the canopy urban heat island (`Broadbent et al. 2019) <https://gmd.copernicus.org/articles/12/785/2019/>`__ 
    
    TARGET should be automativally installed when **UMEP for Processing** is installed. In case if this does not happen, the **target-py** library can be installed with the command:
    ::
       pip install target-py 

    as decribed in `Getting started <https://umep-docs.readthedocs.io/en/latest/Getting_Started.html>`__.

* Related Preprocessors, Processors and Postprocessors
   `LandCoverFraction(Grid)`, `MorphometricCalculator(Grid)`, `TARGETPrepare`, `TARGETAnalyser`

* Dialog box
   .. figure:: /images/TARGETInterface.jpg
      :width: 85%
      :align: center

      The dialog for the TARGET tool. Click on image for enlargement.

* Parameters 
   .. list-table::
      :widths: 40 60
      :header-rows: 0

      * - Path to folder where TARGET input files are located (Site name folder)
        - Path that contains all files ann folders needed to run the TARGET model. These files and folders are generated by `TARGETPrepare <TARGETPrepare>`.
      * - Vector polygon grid
        - A vectory polygon grid that depicts the modelling area(s). This should be the same polygon layer that was used in `TARGETPrepare <TARGETPrepare>`.
      * - Run name
        - Name for this particular model run. This name will appear in the settings folder and the output files.
      * - Start date of simulation
        - Date that simulation will start from. TARGET need at least 24h spin-up.
      * - Start date for period of interest
        - Date that simulation will start from. Data will be saved from this date.
      * - End date for period of interest
        - Date that simulation will end.
      * - Input meteorological file (UMEP-formatted textfile)
        - Input meteorological data specifically formatted to be used in UMEP. This specific format can be created using UMEP  -> Pre-processing  -> Meteorological data  -> Prepare existing data.
      * - Estimate incoming longwave radiation from air temperature and realtive humidity.
        - If incoming longwave radiation is missing from the forcing data, tick this box and L\ :sub:`down` will be calculated according to `Loridan et al. 2011  <https://journals.ametsoc.org/view/journals/apme/50/1/2010jamc2474.1.xml?tab_body=pdf>`__.
      * - Save output as .csv text files
        - Output is also automatically saved in .npy-format, a standard binary file used by NumPy in Python. Tick this in if you are interested in continuing analysis from this tool using csv-files coming directly out from the model. 
      * - Save output in UMEP specific format (required for the TARGET Analyzer)
        - Tick this in if you like to use the analyzers connected to the TARGET model in the Post-processor.

* Run
    Starts the calculations. 

* Help
    Link to this manual page.

* Close
    Closes the plugin.

 
* Remarks
      - If you like to see more details during model execution, open the Python Console in QGIS.

