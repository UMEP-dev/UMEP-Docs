.. _UWGAnalyser:

Urban Heat Island: UWG Analyser
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note:: This plugin is still experimental. Please report any issues to our `code repository <https://github.com/UMEP-dev/UMEP>`__.

* Contributor
   .. list-table::
      :widths: 50 50
      :header-rows: 1

      * - Name
        - Institution
      * - Fredrik Lindberg
        - Gothenburg

* Introduction
    The **Urban Weather Generator** (UWG) tool is an implementation of the `Ladybug <https://github.com/ladybug-tools/uwg>`__ application with the same name. The `original Urban Weather Generator <http://urbanmicroclimate.scripts.mit.edu/uwg.php>`__ was developed by Bruno Bueno for `his PhD thesis at MIT <https://dspace.mit.edu/handle/1721.1/59107>`__. Since this time, it has been validated 3 times and has been `enhanced by Aiko Nakano <https://dspace.mit.edu/handle/1721.1/108779>`__. In 2016, Joseph Yang also `improved the engine and added a range of building templates <https://dspace.mit.edu/handle/1721.1/107347>`__. For more detailed information on UWG, follow the links above.

    The **UWG Analyser** plugin can be used to make basic spatial analysis and plot model results generated by the `Urban Weather Generator <UWG>` plugin in `UMEP for processing <UMEPforProcessing>`. This plugin is available both from `UMEP for processing <UMEPforProcessing>` and the regular menu-based UMEP plugin. The plotting capabilities are only available in the latter.

* Dialog box
    .. figure:: /images/UWGAnalyserInterface.jpg
        :width: 75%
        :align: center

        The dialog for the UWG Analyser in UMEP for processing. Click on image for enlargement.

* Parameters 
   .. list-table::
      :widths: 25 75
      :header-rows: 0

      * - Path to folder where UWG input files are located
        - Path that contains .uwg-files generated by `UWGPrepare <UWGPrepare>`.
      * - Path to folder where UWG output files are located
        - Path that contains files generated by `UWG`. Only UMEP formatted output can be used here, not epw-files.
      * - Examine single night
        - Tick this in if you want to examine UHI for a specific night. 
      * - Month and day when single night begins
        - Specify the single date that should be examined. The nocturnal hours from following day will be included. The date specified must be within the days modelled in `UWG <UWG>`.
      * - Statistic measure
        - Choose how UHI should be represented, e.g. mean, max etc.
      * - Vector polygon grid
        - The vectory polygon grid that depicts the modelling area(s). This should be the same polygon layer that was used in `UWGPrepare <UWGPrepare>` and `UWG <UWG>`.
      * - ID field
        - Choose the attribute from the selected polygon layer that was used to separate the different polygon objects from each other in `UWGPrepare <UWGPrepare>` and `UWG <UWG>`.
      * - Polygon grid irregular (not squared)
        - Tick this in if a grid is irregular i.e. not squared and aligned north to south.
      * - Pixel resolution (m)
        - When a irregular grid is used, a pixel resolution in meters must be specified.
      * - Add results to vector polygon grid attribute table
        - Tick this in if you like to add UHI statistics in the attribute table of your polygon grid
      * - Output raster from statistical analysis
        - Specify the location of the geotiff that will be created from the analysis
      * - Open output file after runing algorithm
        - The geotiff generated will be added to your QGIS project

* Run
    Starts the algorithm. 

* Help
    Link to this manual page.

* Close
    Closes the plugin.

* Remarks
      - This is a very simple tool for generating spatial information from the UWG.
      - In the menu-based UMEP tool there is also possibility to plot time series of urban heat island for specific grids as well as specify specific days to examine.

